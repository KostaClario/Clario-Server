<!-- templates/layout.html -->
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      th:fragment="layout(title, content)">
<head>
    <meta charset="UTF-8" />
    <title th:replace="${title}">Clario</title>

    <!-- 공통 CSS -->
    <link rel="stylesheet" th:href="@{/account-css/style.css}" />
    <link rel="stylesheet" th:href="@{/css/bar.css}" />
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
</head>
<body>

<!-- ✅ 공통 사이드바 -->
<aside th:replace="headerside :: sidebar"></aside>

<!-- ✅ 공통 상단바 -->
<header th:replace="headerside :: header"></header>

<!-- ✅ 공통 모달 -->
<div th:replace="headerside :: allModals"></div>

<!-- ✅ 페이지 개별 콘텐츠 삽입 영역 -->
<main>
    <div th:replace="${content}"></div>
</main>

<!-- ✅ 공통 JS -->
<script th:src="@{/js/modal.js}" defer></script>

<!-- ✅ 날짜 표시 -->
<script th:inline="javascript">
    const today = new Date();
    const days = ['일', '월', '화', '수', '목', '금', '토'];
    const year = today.getFullYear();
    const month = String(today.getMonth() + 1).padStart(2, '0');
    const date = String(today.getDate()).padStart(2, '0');
    const weekday = days[today.getDay()];
    const formatted = `${year}/${month}/${date} ${weekday}`;
    const el = document.getElementById('currentDate');
    if (el) el.textContent = formatted;
</script>

</body>
</html>
